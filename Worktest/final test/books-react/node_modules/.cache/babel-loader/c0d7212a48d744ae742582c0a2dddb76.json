{"ast":null,"code":"var _jsxFileName = \"/home/user/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/work/final test/books-react/src/components/Details/Details.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { AppBar, Box, TextField, Container, Button, Snackbar } from \"@mui/material\";\nimport MuiAlert from \"@mui/material/Alert\";\nimport logo from \"../../img/logo.png\";\nimport Vector from \"../../img/Vector.png\";\nimport \"../LoginRegist.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [dataLogin, dataLoginEdit] = useState({\n    login: \"\",\n    password: \"\"\n  });\n  const [open, setOpen] = useState(false);\n  const [snackbar, setSnackbar] = useState({\n    message: \"\",\n    status: \"\"\n  });\n  const navigation = useNavigate();\n\n  const handleClick = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const Alert = /*#__PURE__*/React.forwardRef((props, ref) => {\n    return /*#__PURE__*/_jsxDEV(MuiAlert, {\n      elevation: 6,\n      ref: ref,\n      variant: \"filled\",\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this);\n  });\n  const state = {\n    vertical: \"top\",\n    horizontal: \"center\"\n  };\n  const {\n    message,\n    status\n  } = snackbar;\n  const {\n    vertical,\n    horizontal\n  } = state;\n  const {\n    login,\n    password\n  } = dataLogin;\n\n  const loginSystem = async () => {\n    await axios.post(\"http://localhost:8000/user/authorizationUser\", {\n      login: login.trim(),\n      password: password.trim()\n    }).then(results => {\n      localStorage.setItem(\"token\", results.data.data.token);\n      navigation(\"/main\");\n    }).catch(err => {\n      setSnackbar({\n        message: \"Неверный логин или пароль!!!\",\n        status: \"error\"\n      });\n      dataLoginEdit({\n        login: \"\",\n        password: \"\"\n      });\n      handleClick();\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-main\",\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      className: \"label-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0412\\u043E\\u0439\\u0442\\u0438 \\u0432 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0443\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"container-style\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: Vector,\n        alt: \"Vector\",\n        className: \"img-vector\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        className: \"box-style\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"group-login\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\u0412\\u043E\\u0439\\u0442\\u0438 \\u0432 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0443\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Login:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"outlined-required\",\n            value: login,\n            onChange: event => dataLoginEdit({\n              login: event.target.value,\n              password\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            hiddenLabel: true,\n            id: \"outlined-password-input\",\n            type: \"password\",\n            autoComplete: \"current-password\",\n            value: password,\n            onChange: event => dataLoginEdit({\n              login,\n              password: event.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"group-button\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            className: \"button-style\",\n            variant: \"outlined\",\n            onClick: () => loginSystem(),\n            children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"button-style\",\n            variant: \"text\",\n            onClick: () => navigation(\"/registration\"),\n            children: \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical,\n        horizontal\n      },\n      open: open,\n      autoHideDuration: 10000,\n      onClose: handleClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleClose,\n        severity: status,\n        className: \"alert-style\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"jRbi5NjTTQo7hrpH3hUUp1VLyl8=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/user/Рабочий стол/work/final test/books-react/src/components/Details/Details.js"],"names":["React","useState","useNavigate","axios","AppBar","Box","TextField","Container","Button","Snackbar","MuiAlert","logo","Vector","Login","dataLogin","dataLoginEdit","login","password","open","setOpen","snackbar","setSnackbar","message","status","navigation","handleClick","handleClose","Alert","forwardRef","props","ref","state","vertical","horizontal","loginSystem","post","trim","then","results","localStorage","setItem","data","token","catch","err","event","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,MADF,EAEEC,GAFF,EAGEC,SAHF,EAIEC,SAJF,EAKEC,MALF,EAMEC,QANF,QAOO,eAPP;AAQA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAO,qBAAP;;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAClB,QAAM,CAACC,SAAD,EAAYC,aAAZ,IAA6Bd,QAAQ,CAAC;AAC1Ce,IAAAA,KAAK,EAAE,EADmC;AAE1CC,IAAAA,QAAQ,EAAE;AAFgC,GAAD,CAA3C;AAKA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBlB,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACmB,QAAD,EAAWC,WAAX,IAA0BpB,QAAQ,CAAC;AACvCqB,IAAAA,OAAO,EAAE,EAD8B;AAEvCC,IAAAA,MAAM,EAAE;AAF+B,GAAD,CAAxC;AAKA,QAAMC,UAAU,GAAGtB,WAAW,EAA9B;;AAEA,QAAMuB,WAAW,GAAG,MAAM;AACxBN,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAFD;;AAIA,QAAMO,WAAW,GAAG,MAAM;AACxBP,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GAFD;;AAIA,QAAMQ,KAAK,gBAAG3B,KAAK,CAAC4B,UAAN,CAAiB,CAACC,KAAD,EAAQC,GAAR,KAAgB;AAC7C,wBACE,QAAC,QAAD;AACE,MAAA,SAAS,EAAE,CADb;AAEE,MAAA,GAAG,EAAEA,GAFP;AAGE,MAAA,OAAO,EAAC,QAHV;AAAA,SAIMD;AAJN;AAAA;AAAA;AAAA;AAAA,YADF;AAQD,GATa,CAAd;AAWA,QAAME,KAAK,GAAG;AACZC,IAAAA,QAAQ,EAAE,KADE;AAEZC,IAAAA,UAAU,EAAE;AAFA,GAAd;AAKA,QAAM;AAAEX,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAsBH,QAA5B;AACA,QAAM;AAAEY,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA2BF,KAAjC;AACA,QAAM;AAAEf,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBH,SAA5B;;AAEA,QAAMoB,WAAW,GAAG,YAAY;AAC9B,UAAM/B,KAAK,CACRgC,IADG,CACE,8CADF,EACkD;AACpDnB,MAAAA,KAAK,EAAEA,KAAK,CAACoB,IAAN,EAD6C;AAEpDnB,MAAAA,QAAQ,EAAEA,QAAQ,CAACmB,IAAT;AAF0C,KADlD,EAKHC,IALG,CAKGC,OAAD,IAAa;AACjBC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,OAAO,CAACG,IAAR,CAAaA,IAAb,CAAkBC,KAAhD;AACJlB,MAAAA,UAAU,CAAC,OAAD,CAAV;AACG,KARG,EASHmB,KATG,CASIC,GAAD,IAAS;AACdvB,MAAAA,WAAW,CAAC;AACVC,QAAAA,OAAO,EAAE,8BADC;AAEVC,QAAAA,MAAM,EAAE;AAFE,OAAD,CAAX;AAIAR,MAAAA,aAAa,CAAC;AACZC,QAAAA,KAAK,EAAE,EADK;AAEZC,QAAAA,QAAQ,EAAE;AAFE,OAAD,CAAb;AAIAQ,MAAAA,WAAW;AACZ,KAnBG,CAAN;AAoBD,GArBD;;AAuBA,sBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA,4BACE,QAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAA,8BACE;AAAK,QAAA,GAAG,EAAEd,IAAV;AAAgB,QAAA,GAAG,EAAC;AAApB;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAKE,QAAC,SAAD;AAAW,MAAA,SAAS,EAAC,iBAArB;AAAA,8BACE;AACE,QAAA,GAAG,EAAEC,MADP;AAEE,QAAA,GAAG,EAAC,QAFN;AAGE,QAAA,SAAS,EAAC;AAHZ;AAAA;AAAA;AAAA;AAAA,cADF,eAME,QAAC,GAAD;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE,QAAC,SAAD;AACE,YAAA,EAAE,EAAC,mBADL;AAEE,YAAA,KAAK,EAAEI,KAFT;AAGE,YAAA,QAAQ,EAAG6B,KAAD,IACR9B,aAAa,CAAC;AACZC,cAAAA,KAAK,EAAE6B,KAAK,CAACC,MAAN,CAAaC,KADR;AAEZ9B,cAAAA;AAFY,aAAD;AAJjB;AAAA;AAAA;AAAA;AAAA,kBAHF,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbF,eAcE,QAAC,SAAD;AACE,YAAA,WAAW,MADb;AAEE,YAAA,EAAE,EAAC,yBAFL;AAGE,YAAA,IAAI,EAAC,UAHP;AAIE,YAAA,YAAY,EAAC,kBAJf;AAKE,YAAA,KAAK,EAAEA,QALT;AAME,YAAA,QAAQ,EAAG4B,KAAD,IACR9B,aAAa,CAAC;AACZC,cAAAA,KADY;AAEZC,cAAAA,QAAQ,EAAE4B,KAAK,CAACC,MAAN,CAAaC;AAFX,aAAD;AAPjB;AAAA;AAAA;AAAA;AAAA,kBAdF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eA6BE;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA,kCACE,QAAC,MAAD;AACE,YAAA,SAAS,EAAC,cADZ;AAEE,YAAA,OAAO,EAAC,UAFV;AAGE,YAAA,OAAO,EAAE,MAAMb,WAAW,EAH5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAQE,QAAC,MAAD;AACE,YAAA,SAAS,EAAC,cADZ;AAEE,YAAA,OAAO,EAAC,MAFV;AAGE,YAAA,OAAO,EAAE,MAAMV,UAAU,CAAC,eAAD,CAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA7BF;AAAA;AAAA;AAAA;AAAA;AAAA,cANF;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,eA0DE,QAAC,QAAD;AACE,MAAA,YAAY,EAAE;AAAEQ,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,OADhB;AAEE,MAAA,IAAI,EAAEf,IAFR;AAGE,MAAA,gBAAgB,EAAE,KAHpB;AAIE,MAAA,OAAO,EAAEQ,WAJX;AAAA,6BAME,QAAC,KAAD;AACE,QAAA,OAAO,EAAEA,WADX;AAEE,QAAA,QAAQ,EAAEH,MAFZ;AAGE,QAAA,SAAS,EAAC,aAHZ;AAAA,kBAKGD;AALH;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,YA1DF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA2ED,CA5ID;;GAAMT,K;UAYeX,W;;;KAZfW,K;AA8IN,eAAeA,KAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport {\n  AppBar,\n  Box,\n  TextField,\n  Container,\n  Button,\n  Snackbar,\n} from \"@mui/material\";\nimport MuiAlert from \"@mui/material/Alert\";\nimport logo from \"../../img/logo.png\";\nimport Vector from \"../../img/Vector.png\";\nimport \"../LoginRegist.scss\";\n\nconst Login = () => {\n  const [dataLogin, dataLoginEdit] = useState({\n    login: \"\",\n    password: \"\",\n  });\n\n  const [open, setOpen] = useState(false);\n  const [snackbar, setSnackbar] = useState({\n    message: \"\",\n    status: \"\",\n  });\n\n  const navigation = useNavigate();\n\n  const handleClick = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const Alert = React.forwardRef((props, ref) => {\n    return (\n      <MuiAlert\n        elevation={6}\n        ref={ref}\n        variant=\"filled\"\n        {...props}\n      />\n    );\n  });\n\n  const state = {\n    vertical: \"top\",\n    horizontal: \"center\",\n  };\n\n  const { message, status } = snackbar;\n  const { vertical, horizontal } = state;\n  const { login, password } = dataLogin;\n\n  const loginSystem = async () => {\n    await axios\n      .post(\"http://localhost:8000/user/authorizationUser\", {\n        login: login.trim(),\n        password: password.trim(),\n      })\n      .then((results) => {\n        localStorage.setItem(\"token\", results.data.data.token);\n\t\t\t\tnavigation(\"/main\");\n      })\n      .catch((err) => {\n        setSnackbar({\n          message: \"Неверный логин или пароль!!!\",\n          status: \"error\",\n        });\n        dataLoginEdit({\n          login: \"\",\n          password: \"\",\n        });\n        handleClick();\n      });\n  };\n\n  return (\n    <div className=\"login-main\">\n      <AppBar className=\"label-header\">\n        <img src={logo} alt=\"logo\" />\n        <h1>Войти в систему</h1>\n      </AppBar>\n      <Container className=\"container-style\">\n        <img\n          src={Vector}\n          alt=\"Vector\"\n          className=\"img-vector\"\n        />\n        <Box className=\"box-style\">\n          <div className=\"group-login\">\n            <h1>Войти в систему</h1>\n            <p>Login:</p>\n            <TextField\n              id=\"outlined-required\"\n              value={login}\n              onChange={(event) =>\n                dataLoginEdit({\n                  login: event.target.value,\n                  password,\n                })\n              }\n            />\n            <p>Password:</p>\n            <TextField\n              hiddenLabel\n              id=\"outlined-password-input\"\n              type=\"password\"\n              autoComplete=\"current-password\"\n              value={password}\n              onChange={(event) =>\n                dataLoginEdit({\n                  login,\n                  password: event.target.value,\n                })\n              }\n            />\n          </div>\n          <div className=\"group-button\">\n            <Button\n              className=\"button-style\"\n              variant=\"outlined\"\n              onClick={() => loginSystem()}\n            >\n              Войти\n            </Button>\n            <Button\n              className=\"button-style\"\n              variant=\"text\"\n              onClick={() => navigation(\"/registration\")}\n            >\n              Зарегистрироваться\n            </Button>\n          </div>\n        </Box>\n      </Container>\n      <Snackbar\n        anchorOrigin={{ vertical, horizontal }}\n        open={open}\n        autoHideDuration={10000}\n        onClose={handleClose}\n      >\n        <Alert\n          onClose={handleClose}\n          severity={status}\n          className=\"alert-style\"\n        >\n          {message}\n        </Alert>\n      </Snackbar>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}