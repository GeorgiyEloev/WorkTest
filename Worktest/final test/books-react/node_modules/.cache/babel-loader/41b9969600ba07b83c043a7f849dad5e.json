{"ast":null,"code":"var _jsxFileName = \"/home/user/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/work/final test/books-react/src/components/AddNew/AddNew.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { AppBar, Box, TextField, Container, Button, Snackbar } from \"@mui/material\";\nimport MuiAlert from \"@mui/material/Alert\";\nimport logo from \"../../img/logo.png\";\nimport Vector from \"../../img/Vector.png\";\nimport \"../LoginRegist.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Registration = () => {\n  _s();\n\n  const [dataLogin, dataLoginEdit] = useState({\n    login: \"\",\n    password: \"\",\n    rePassword: \"\"\n  });\n  const [open, setOpen] = useState(false);\n  const [snackbar, setSnackbar] = useState({\n    message: \"\",\n    status: \"\"\n  });\n  const navigation = useNavigate();\n\n  const handleClick = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const Alert = /*#__PURE__*/React.forwardRef((props, ref) => {\n    return /*#__PURE__*/_jsxDEV(MuiAlert, {\n      elevation: 6,\n      ref: ref,\n      variant: \"filled\",\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this);\n  });\n  const state = {\n    vertical: \"top\",\n    horizontal: \"center\"\n  };\n  const {\n    message,\n    status\n  } = snackbar;\n  const {\n    vertical,\n    horizontal\n  } = state;\n  const {\n    login,\n    password,\n    rePassword\n  } = dataLogin;\n  const passwordRegular = password.match(/^(?=.*\\d)[a-z\\d]{6,}$/gi);\n  const loginRegular = login.match(/^[a-z\\d]{6,}$/gi);\n  const messageWarPassword = `Длина пароля не меньше 6 символов. \n\tВсе символы латинского алфавита.Пароль должен содержать обязательно \n\tхотя бы одно число.!!!`;\n  const messageWarLogin = `Длина логина не меньше 6 символов. \n\tВсе символы латинского алфавита или цифры!!!`;\n\n  const snackbarParams = (message, status) => {\n    setSnackbar({\n      message,\n      status\n    });\n    handleClick();\n  };\n\n  const loginSystem = async () => {\n    if (loginRegular) {\n      if (passwordRegular) {\n        if (password === rePassword) {\n          await axios.post(\"http://localhost:8000/user/addNewUser\", {\n            login: login.trim(),\n            password: password.trim()\n          }).then(results => {\n            localStorage.setItem(\"token\", results.data.data.token);\n            navigation(\"/main\");\n          }).catch(err => {\n            dataLoginEdit({\n              login: \"\",\n              password: \"\",\n              rePassword: \"\"\n            });\n            snackbarParams(\"Логин занят!!!\", \"error\");\n          });\n        } else {\n          dataLoginEdit({\n            login,\n            password,\n            rePassword: \"\"\n          });\n          snackbarParams(\"Пароли не совпадают!\", \"warning\");\n        }\n      } else {\n        dataLoginEdit({\n          login,\n          password: \"\",\n          rePassword: \"\"\n        });\n        snackbarParams(messageWarPassword, \"warning\");\n      }\n    } else {\n      dataLoginEdit({\n        login: \"\",\n        password,\n        rePassword\n      });\n      snackbarParams(messageWarLogin, \"warning\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"addNewUser\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Registration, \"o2mJ8/8ek/AcHbiijtCGgVTfKK4=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Registration;\nexport default Registration;\n\nvar _c;\n\n$RefreshReg$(_c, \"Registration\");","map":{"version":3,"sources":["/home/user/Рабочий стол/work/final test/books-react/src/components/AddNew/AddNew.js"],"names":["React","useState","useNavigate","axios","AppBar","Box","TextField","Container","Button","Snackbar","MuiAlert","logo","Vector","Registration","dataLogin","dataLoginEdit","login","password","rePassword","open","setOpen","snackbar","setSnackbar","message","status","navigation","handleClick","handleClose","Alert","forwardRef","props","ref","state","vertical","horizontal","passwordRegular","match","loginRegular","messageWarPassword","messageWarLogin","snackbarParams","loginSystem","post","trim","then","results","localStorage","setItem","data","token","catch","err"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport {\n  AppBar,\n  Box,\n  TextField,\n  Container,\n  Button,\n  Snackbar,\n} from \"@mui/material\";\nimport MuiAlert from \"@mui/material/Alert\";\nimport logo from \"../../img/logo.png\";\nimport Vector from \"../../img/Vector.png\";\nimport \"../LoginRegist.scss\";\n\nconst Registration = () => {\n  const [dataLogin, dataLoginEdit] = useState({\n    login: \"\",\n    password: \"\",\n    rePassword: \"\",\n  });\n\n  const [open, setOpen] = useState(false);\n  const [snackbar, setSnackbar] = useState({\n    message: \"\",\n    status: \"\",\n  });\n\n  const navigation = useNavigate();\n\n  const handleClick = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const Alert = React.forwardRef((props, ref) => {\n    return (\n      <MuiAlert\n        elevation={6}\n        ref={ref}\n        variant=\"filled\"\n        {...props}\n      />\n    );\n  });\n\n  const state = {\n    vertical: \"top\",\n    horizontal: \"center\",\n  };\n\n  const { message, status } = snackbar;\n  const { vertical, horizontal } = state;\n  const { login, password, rePassword } = dataLogin;\n\n  const passwordRegular = password.match(/^(?=.*\\d)[a-z\\d]{6,}$/gi);\n  const loginRegular = login.match(/^[a-z\\d]{6,}$/gi);\n\n  const messageWarPassword = `Длина пароля не меньше 6 символов. \n\tВсе символы латинского алфавита.Пароль должен содержать обязательно \n\tхотя бы одно число.!!!`;\n  const messageWarLogin = `Длина логина не меньше 6 символов. \n\tВсе символы латинского алфавита или цифры!!!`;\n\n  const snackbarParams = (message, status) => {\n    setSnackbar({\n      message,\n      status,\n    });\n    handleClick();\n  };\n\n  const loginSystem = async () => {\n    if (loginRegular) {\n      if (passwordRegular) {\n        if (password === rePassword) {\n          await axios\n            .post(\"http://localhost:8000/user/addNewUser\", {\n              login: login.trim(),\n              password: password.trim(),\n            })\n            .then((results) => {\n              localStorage.setItem(\"token\", results.data.data.token);\n              navigation(\"/main\");\n            })\n            .catch((err) => {\n              dataLoginEdit({\n                login: \"\",\n                password: \"\",\n                rePassword: \"\",\n              });\n              snackbarParams(\"Логин занят!!!\", \"error\");\n            });\n        } else {\n          dataLoginEdit({\n            login,\n            password,\n            rePassword: \"\",\n          });\n          snackbarParams(\"Пароли не совпадают!\", \"warning\");\n        }\n      } else {\n        dataLoginEdit({\n          login,\n          password: \"\",\n          rePassword: \"\",\n        });\n        snackbarParams(messageWarPassword, \"warning\");\n      }\n    } else {\n      dataLoginEdit({\n        login: \"\",\n        password,\n        rePassword,\n      });\n      snackbarParams(messageWarLogin, \"warning\");\n    }\n  };\n\n  return (\n    <div>\n     addNewUser\n    </div>\n  );\n};\n\nexport default Registration;\n"]},"metadata":{},"sourceType":"module"}